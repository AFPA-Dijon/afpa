CREATE TABLE IF NOT EXISTS annonces(
id INT PRIMARY KEY NOT NULL AUTO_INCREMENT,
categorie VARCHAR(255) NOT NULL DEFAULT '',
datedeparution DATE NOT NULL,
prix DOUBLE NOT NULL ,
bien_id INT NOT NULL,
FOREIGN KEY fk_id_bien(bien_id) REFERENCES biens(id))
ENGINE=MyISAM DEFAULT CHARSET=latin1; 


CREATE TABLE IF NOT EXISTS biens(
id INT PRIMARY KEY NOT NULL AUTO_INCREMENT,
adresse VARCHAR(255) NOT NULL DEFAULT '',
ville VARCHAR(255) NOT NULL DEFAULT '',
description VARCHAR(255) NOT NULL DEFAULT '',
nombredepieces INT NOT NULL,
type_id INT NOT NULL,
FOREIGN KEY fk_id_type(type_id) REFERENCES types(id))
ENGINE=MyISAM DEFAULT CHARSET=latin1;


CREATE TABLE IF NOT EXISTS types(
id INT PRIMARY KEY NOT NULL AUTO_INCREMENT,
libelle VARCHAR(255) NOT NULL)
ENGINE=MyISAM DEFAULT CHARSET=latin1; 


CREATE TABLE IF NOT EXISTS images(
id INT PRIMARY KEY NOT NULL AUTO_INCREMENT,
lien VARCHAR(255),
bien_id INT NOT NULL,
FOREIGN KEY fk_id_bien(bien_id) REFERENCES biens(id))
ENGINE=MyISAM DEFAULT CHARSET=latin1;


CREATE TABLE IF NOT EXISTS commentaires(
id INT PRIMARY KEY NOT NULL AUTO_INCREMENT,
message VARCHAR(255),
bien_id INT NOT NULL,
FOREIGN KEY fk_id_bien(bien_id) REFERENCES biens(id))
ENGINE=MyISAM DEFAULT CHARSET=latin1;


CREATE TABLE IF NOT EXISTS users(
login VARCHAR(255) PRIMARY KEY NOT NULL,
password VARCHAR(255),
role VARCHAR(20))
ENGINE=MyISAM DEFAULT CHARSET=latin1;


